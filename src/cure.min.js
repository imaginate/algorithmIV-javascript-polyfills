/* Cure.js (v0.0.3) (learn@algorithmiv.com)
 * Author: Adam Smith (adamsmith@algorithmiv.com)
 * Copyright (c) 2015 Adam A Smith (github.com/imaginate)
 * The Apache License (algorithmiv.com/cure/license)
 *
 * 3RD PARTY SCRIPT: JSON3 (v3.3.2) (bestiejs.github.io/json3)
 * Copyright (c) 2012-2015 Kit Cambridge, Benjamin Tan
 * MIT License (kit.mit-license.org) */
(function(r,p){"function"===typeof define&&define.amd&&"object"===typeof define.amd?define([],p):"object"===typeof exports?module.exports=p:p()})(this,function(){(function(){function r(c,f){function m(a,w){try{a()}catch(d){w&&w()}}function g(a){if(null!=g[a])return g[a];var w;if("bug-string-char-index"==a)w="a"!="a"[0];else if("json"==a)w=g("json-stringify")&&g("date-serialization")&&g("json-parse");else if("date-serialization"==a){if(w=g("json-stringify")&&x){var d=f.stringify;m(function(){w='"-271821-04-20T00:00:00.000Z"'==
d(new C(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==d(new C(864E13))&&'"-000001-01-01T00:00:00.000Z"'==d(new C(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==d(new C(-1))})}}else{var b;if("json-stringify"==a){var d=f.stringify,h="function"==typeof d;h&&((b=function(){return 1}).toJSON=b,m(function(){h="0"===d(0)&&"0"===d(new n)&&'""'==d(new p)&&d(t)===u&&d(u)===u&&d()===u&&"1"===d(b)&&"[1]"==d([b])&&"[null]"==d([u])&&"null"==d(null)&&"[null,null,null]"==d([u,t,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==
d({a:[b,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===d(null,b)&&"[\n 1,\n 2\n]"==d([1,2],null,1)},function(){h=!1}));w=h}if("json-parse"==a){var c=f.parse,e;"function"==typeof c&&m(function(){0===c("0")&&!c(!1)&&(b=c('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),e=5==b.a.length&&1===b.a[0])&&(m(function(){e=!c('"\t"')}),e&&m(function(){e=1!==c("01")}),e&&m(function(){e=1!==c("1.")}))},function(){e=!1});w=e}}return g[a]=!!w}c||(c=a.Object());f||(f=a.Object());var n=c.Number||a.Number,p=c.String||
a.String,q=c.Object||a.Object,C=c.Date||a.Date,D=c.SyntaxError||a.SyntaxError,Q=c.TypeError||a.TypeError,R=c.Math||a.Math,F=c.JSON||a.JSON;"object"==typeof F&&F&&(f.stringify=F.stringify,f.parse=F.parse);var q=q.prototype,t=q.toString,G=q.hasOwnProperty,u,x=new C(-0xc782b5b800cec);m(function(){x=-109252==x.getUTCFullYear()&&0===x.getUTCMonth()&&1===x.getUTCDate()&&10==x.getUTCHours()&&37==x.getUTCMinutes()&&6==x.getUTCSeconds()&&708==x.getUTCMilliseconds()});g["bug-string-char-index"]=g["date-serialization"]=
g.json=g["json-stringify"]=g["json-parse"]=null;if(!g("json")){var I=g("bug-string-char-index"),E=function(a,b){var d=0,c,h,f;(c=function(){this.valueOf=0}).prototype.valueOf=0;h=new c;for(f in h)G.call(h,f)&&d++;c=h=null;d?E=function(a,d){var B="[object Function]"==t.call(a),b,c;for(b in a)B&&"prototype"==b||!G.call(a,b)||(c="constructor"===b)||d(b);(c||G.call(a,b="constructor"))&&d(b)}:(h="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
E=function(a,d){var B="[object Function]"==t.call(a),b,c=!B&&"function"!=typeof a.constructor&&v[typeof a.hasOwnProperty]&&a.hasOwnProperty||G;for(b in a)B&&"prototype"==b||!c.call(a,b)||d(b);for(B=h.length;b=h[--B];c.call(a,b)&&d(b));});return E(a,b)};if(!g("json-stringify")||!g(" date-serialization")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},z=function(a,b){return("000000"+(b||0)).slice(-a)},T=function(a){a=a.charCodeAt(0);var b=S[a];return b?b:"\\u00"+z(2,a.toString(16))},
J=/[\x00-\x1f\x22\x5c]/g,N=function(a){J.lastIndex=0;return'"'+(J.test(a)?a.replace(J,T):a)+'"'},K=function(a){var b,d,c,h,f,e,k,m,g;if(x)b=function(a){d=a.getUTCFullYear();c=a.getUTCMonth();h=a.getUTCDate();e=a.getUTCHours();k=a.getUTCMinutes();m=a.getUTCSeconds();g=a.getUTCMilliseconds()};else{var y=R.floor,l=[0,31,59,90,120,151,181,212,243,273,304,334],n=function(a,d){return l[d]+365*(a-1970)+y((a-1969+(d=+(1<d)))/4)-y((a-1901+d)/100)+y((a-1601+d)/400)};b=function(a){h=y(a/864E5);for(d=y(h/365.2425)+
1970-1;n(d+1,0)<=h;d++);for(c=y((h-n(d,0))/30.42);n(d,c+1)<=h;c++);h=1+h-n(d,c);f=(a%864E5+864E5)%864E5;e=y(f/36E5)%24;k=y(f/6E4)%60;m=y(f/1E3)%60;g=f%1E3}}K=function(a){a>-1/0&&a<1/0?(b(a),a=(0>=d||1E4<=d?(0>d?"-":"+")+z(6,0>d?-d:d):z(4,d))+"-"+z(2,c+1)+"-"+z(2,h)+"T"+z(2,e)+":"+z(2,k)+":"+z(2,m)+"."+z(3,g)+"Z",d=c=h=e=k=m=g=null):a=null;return a};return K(a)},L=function(a,b,d,c,h,f,e){var k,g,n,l,q,p;m(function(){k=b[a]});"object"==typeof k&&k&&(k.getUTCFullYear&&"[object Date]"==t.call(k)&&k.toJSON===
C.prototype.toJSON?k=K(k):"function"==typeof k.toJSON&&(k=k.toJSON(a)));d&&(k=d.call(b,a,k));if(k==u)return k===u?k:"null";g=typeof k;"object"==g&&(n=t.call(k));switch(n||g){case "boolean":case "[object Boolean]":return""+k;case "number":case "[object Number]":return k>-1/0&&k<1/0?""+k:"null";case "string":case "[object String]":return N(""+k)}if("object"==typeof k){for(g=e.length;g--;)if(e[g]===k)throw Q();e.push(k);l=[];p=f;f+=h;if("[object Array]"==n){q=0;for(g=k.length;q<g;q++)n=L(q,k,d,c,h,f,
e),l.push(n===u?"null":n);g=l.length?h?"[\n"+f+l.join(",\n"+f)+"\n"+p+"]":"["+l.join(",")+"]":"[]"}else E(c||k,function(a){var b=L(a,k,d,c,h,f,e);b!==u&&l.push(N(a)+":"+(h?" ":"")+b)}),g=l.length?h?"{\n"+f+l.join(",\n"+f)+"\n"+p+"}":"{"+l.join(",")+"}":"{}";e.pop();return g}};f.stringify=function(a,b,d){var c,f,g,e;if(v[typeof b]&&b)if(e=t.call(b),"[object Function]"==e)f=b;else if("[object Array]"==e){g={};for(var k=0,m=b.length,l;k<m;l=b[k++],(e=t.call(l),"[object String]"==e||"[object Number]"==
e)&&(g[l]=1));}if(d)if(e=t.call(d),"[object Number]"==e){if(0<(d-=d%1))for(c="",10<d&&(d=10);c.length<d;c+=" ");}else"[object String]"==e&&(c=10>=d.length?d:d.slice(0,10));return L("",(l={},l[""]=a,l),f,g,c,"",[])}}if(!g("json-parse")){var U=p.fromCharCode,V={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},b,H,l=function(){b=H=null;throw D();},A=function(){for(var a=H,c=a.length,d,f,h,g,e;b<c;)switch(e=a.charCodeAt(b),e){case 9:case 10:case 13:case 32:b++;break;case 123:case 125:case 91:case 93:case 58:case 44:return d=
I?a.charAt(b):a[b],b++,d;case 34:d="@";for(b++;b<c;)if(e=a.charCodeAt(b),32>e)l();else if(92==e)switch(e=a.charCodeAt(++b),e){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:d+=V[e];b++;break;case 117:f=++b;for(h=b+4;b<h;b++)e=a.charCodeAt(b),48<=e&&57>=e||97<=e&&102>=e||65<=e&&70>=e||l();d+=U("0x"+a.slice(f,b));break;default:l()}else{if(34==e)break;e=a.charCodeAt(b);for(f=b;32<=e&&92!=e&&34!=e;)e=a.charCodeAt(++b);d+=a.slice(f,b)}if(34==a.charCodeAt(b))return b++,d;l();default:f=
b;45==e&&(g=!0,e=a.charCodeAt(++b));if(48<=e&&57>=e){for(48==e&&(e=a.charCodeAt(b+1),48<=e&&57>=e)&&l();b<c&&(e=a.charCodeAt(b),48<=e&&57>=e);b++);if(46==a.charCodeAt(b)){for(h=++b;h<c&&(e=a.charCodeAt(h),48<=e&&57>=e);h++);h==b&&l();b=h}e=a.charCodeAt(b);if(101==e||69==e){e=a.charCodeAt(++b);43!=e&&45!=e||b++;for(h=b;h<c&&(e=a.charCodeAt(h),48<=e&&57>=e);h++);h==b&&l();b=h}return+a.slice(f,b)}g&&l();d=a.slice(b,b+4);if("true"==d)return b+=4,!0;if("fals"==d&&101==a.charCodeAt(b+4))return b+=5,!1;
if("null"==d)return b+=4,null;l()}return"$"},M=function(a){var b,d;"$"==a&&l();if("string"==typeof a){if("@"==(I?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;){a=A();if("]"==a)break;d?","==a?(a=A(),"]"==a&&l()):l():d=!0;","==a&&l();b.push(M(a))}return b}if("{"==a){for(b={};;){a=A();if("}"==a)break;d?","==a?(a=A(),"}"==a&&l()):l():d=!0;","!=a&&"string"==typeof a&&"@"==(I?a.charAt(0):a[0])&&":"==A()||l();b[a.slice(1)]=M(A())}return b}l()}return a},P=function(a,b,d){d=O(a,b,d);d===u?delete a[b]:
a[b]=d},O=function(a,b,d){var c=a[b],f;if("object"==typeof c&&c)if("[object Array]"==t.call(c))for(f=c.length;f--;P(c,f,d));else E(c,function(a){P(c,a,d)});return d.call(a,b,c)};f.parse=function(a,c){var d,f;b=0;H=""+a;d=M(A());"$"!=A()&&l();b=H=null;return c&&"[object Function]"==t.call(c)?O((f={},f[""]=d,f),"",c):d}}}f.runInContext=r;return f}var p="function"===typeof define&&define.amd,v={"function":!0,object:!0},D=v[typeof exports]&&exports&&!exports.nodeType&&exports,a=v[typeof window]&&window||
this,c=D&&v[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c);if(D&&!p)r(a,D);else{var m=a.JSON,f=a.JSON3,n=!1,q=r(a,a.JSON3={noConflict:function(){n||(n=!0,a.JSON=m,a.JSON3=f,m=f=null);return q}});a.JSON={parse:q.parse,stringify:q.stringify}}p&&define(function(){return q})}).call(this);(function(r,p,v){XMLHttpRequest||(XMLHttpRequest=function(){var a;try{a=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(c){try{a=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(m){try{a=
new ActiveXObject("Microsoft.XMLHTTP")}catch(f){throw Error("Your browser does not support XMLHttpRequest.");}}}return a});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});(function(a){a&&(a=[8,9],a=-1===a.indexOf(8,2)&&-1===a.indexOf(9,-1));return a})(!!Array.prototype.indexOf)||(Array.prototype.indexOf=function(a,c){var m,f,n;if(!Array.isArray(this))throw new TypeError("An Array.prototype.indexOf call was made on a non-array.");"number"!==typeof c&&
(c=0);f=this.length;m=-1;if(0!==f&&Math.abs(c)<f)for(0>c&&(f-=c),n=0>c?-1:--c;++n<f;)if(this[n]===a){m=n;break}return m});r.console=r.console||{};(function(a,c){a.log||(a.log=c);a.error||(a.error=a.log);a.assert||(a.assert=function(c){var f;if(!c)return f=1<arguments.length?Array.prototype.slice.call(arguments,1):["A console.assert call failed."],a.error.apply(this,f)});a.clear||(a.clear=c);a.count||(a.count=c);a.debug||(a.debug=a.log);a.dir||(a.dir=a.log);a.dirxml||(a.dirxml=a.log);a.exception||
(a.exception=a.error);a.group||(a.group=c);a.groupCollapsed||(a.groupCollapsed=a.group);a.groupEnd||(a.groupEnd=c);a.info||(a.info=a.log);a.markTimeline||(a.markTimeline=a.timeStamp?a.timeStamp:c);a.profile||(a.profile=c);a.profileEnd||(a.profileEnd=c);a.table||(a.table=c);a.time||(a.time=c);a.timeEnd||(a.timeEnd=c);a.timeline||(a.timeline=c);a.timelineEnd||(a.timelineEnd=c);a.timeStamp||(a.timeStamp=a.markTimeline);a.trace||(a.trace=a.log);a.warn||(a.warn=a.error);(function(c,f,n,q){var p,r,v,g;
if(c)if(v=["assert","error","info","log","warn"],g=["clear","dir","profile","profileEnd"],g=v.concat(g),f)for(p=g.length;p--;)r=a[g[p]],a[g[p]]=f.call(r,a);else for(p=v.length;p--;)r=a[v[p]],n.call(r,a,q.call(arguments))})("object"===typeof a.log,Function.prototype.bind,Function.prototype.call,Array.prototype.slice)})(r.console,function(){});Object.keys||(Object.keys=function(){var a,c;a=!{toString:null}.propertyIsEnumerable("toString");c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" ");
return function(m){var f,n;if(!m||"object"!==typeof m&&"function"!==typeof m)throw new TypeError("An Object.keys call received an invalid object parameter. Note: It only accepts non-null objects and functions.");n=[];for(f in m)m.hasOwnProperty(f)&&n.push(f);if(a)for(f=c.length;f--;)m.hasOwnProperty(c[f])&&n.push(c[f]);return n}}());Object.freeze||(Object.freeze=function(a){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("An Object.freeze call received an invalid object parameter. Note: It only accepts non-null objects and functions.");
return a});try{Object.freeze(function(){})}catch(D){Object.freeze=function(a){return function(c){return"function"===typeof c?c:a(c)}}(Object.freeze)}Object.isFrozen||(Object.isFrozen=function(a){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("An Object.isFrozen call received an invalid object parameter. Note: It only accepts non-null objects and functions.");return!0})})(window,document)});
