/* Cure.js (v0.0.3) (learn@algorithmiv.com)
 * Author: Adam Smith (adamsmith@algorithmiv.com)
 * Copyright (c) 2015 Adam A Smith (github.com/imaginate)
 * The Apache License (algorithmiv.com/cure/license)
 *
 * 3RD PARTY SCRIPTS USED IN Cure.js:
 * JSON3 (v3.3.2) (bestiejs.github.io/json3)
 * Copyright (c) 2012-2015 Kit Cambridge, Benjamin Tan
 * MIT License (kit.mit-license.org) */
(function(p,q){"function"===typeof define&&define.amd&&"object"===typeof define.amd?define([],function(){q(p,"amd")}):"object"===typeof exports?module.exports=function(){q(p,"node")}:q(p,"browser")})(this,function(p,q){var t=t?t:p;(function(){function H(a,f){function h(a,x){try{a()}catch(d){x&&x()}}function m(a){if(null!=m[a])return m[a];var x;if("bug-string-char-index"==a)x="a"!="a"[0];else if("json"==a)x=m("json-stringify")&&m("date-serialization")&&m("json-parse");else if("date-serialization"==
a){if(x=m("json-stringify")&&y){var d=f.stringify;h(function(){x='"-271821-04-20T00:00:00.000Z"'==d(new q(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==d(new q(864E13))&&'"-000001-01-01T00:00:00.000Z"'==d(new q(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==d(new q(-1))})}}else{var b;if("json-stringify"==a){var d=f.stringify,g="function"==typeof d;g&&((b=function(){return 1}).toJSON=b,h(function(){g="0"===d(0)&&"0"===d(new n)&&'""'==d(new r)&&d(v)===w&&d(w)===w&&d()===w&&"1"===d(b)&&"[1]"==d([b])&&"[null]"==
d([w])&&"null"==d(null)&&"[null,null,null]"==d([w,v,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==d({a:[b,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===d(null,b)&&"[\n 1,\n 2\n]"==d([1,2],null,1)},function(){g=!1}));x=g}if("json-parse"==a){var c=f.parse,e;"function"==typeof c&&h(function(){0===c("0")&&!c(!1)&&(b=c('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),e=5==b.a.length&&1===b.a[0])&&(h(function(){e=!c('"\t"')}),e&&h(function(){e=1!==c("01")}),e&&h(function(){e=1!==c("1.")}))},
function(){e=!1});x=e}}return m[a]=!!x}a||(a=c.Object());f||(f=c.Object());var n=a.Number||c.Number,r=a.String||c.String,p=a.Object||c.Object,q=a.Date||c.Date,t=a.SyntaxError||c.SyntaxError,V=a.TypeError||c.TypeError,Q=a.Math||c.Math,E=a.JSON||c.JSON;"object"==typeof E&&E&&(f.stringify=E.stringify,f.parse=E.parse);var p=p.prototype,v=p.toString,F=p.hasOwnProperty,w,y=new q(-0xc782b5b800cec);h(function(){y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==
y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()});m["bug-string-char-index"]=m["date-serialization"]=m.json=m["json-stringify"]=m["json-parse"]=null;if(!m("json")){var I=m("bug-string-char-index"),D=function(a,b){var d=0,c,g,f;(c=function(){this.valueOf=0}).prototype.valueOf=0;g=new c;for(f in g)F.call(g,f)&&d++;c=g=null;d?D=function(a,d){var C="[object Function]"==v.call(a),b,c;for(b in a)C&&"prototype"==b||!F.call(a,b)||(c="constructor"===b)||d(b);(c||F.call(a,b="constructor"))&&
d(b)}:(g="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),D=function(a,d){var C="[object Function]"==v.call(a),b,c=!C&&"function"!=typeof a.constructor&&u[typeof a.hasOwnProperty]&&a.hasOwnProperty||F;for(b in a)C&&"prototype"==b||!c.call(a,b)||d(b);for(C=g.length;b=g[--C];c.call(a,b)&&d(b));});return D(a,b)};if(!m("json-stringify")||!m(" date-serialization")){var R={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},A=function(a,
b){return("000000"+(b||0)).slice(-a)},S=function(a){a=a.charCodeAt(0);var b=R[a];return b?b:"\\u00"+A(2,a.toString(16))},J=/[\x00-\x1f\x22\x5c]/g,N=function(a){J.lastIndex=0;return'"'+(J.test(a)?a.replace(J,S):a)+'"'},K=function(a){var b,d,c,g,f,e,k,h,l;if(y)b=function(a){d=a.getUTCFullYear();c=a.getUTCMonth();g=a.getUTCDate();e=a.getUTCHours();k=a.getUTCMinutes();h=a.getUTCSeconds();l=a.getUTCMilliseconds()};else{var z=Q.floor,m=[0,31,59,90,120,151,181,212,243,273,304,334],n=function(a,d){return m[d]+
365*(a-1970)+z((a-1969+(d=+(1<d)))/4)-z((a-1901+d)/100)+z((a-1601+d)/400)};b=function(a){g=z(a/864E5);for(d=z(g/365.2425)+1970-1;n(d+1,0)<=g;d++);for(c=z((g-n(d,0))/30.42);n(d,c+1)<=g;c++);g=1+g-n(d,c);f=(a%864E5+864E5)%864E5;e=z(f/36E5)%24;k=z(f/6E4)%60;h=z(f/1E3)%60;l=f%1E3}}K=function(a){a>-1/0&&a<1/0?(b(a),a=(0>=d||1E4<=d?(0>d?"-":"+")+A(6,0>d?-d:d):A(4,d))+"-"+A(2,c+1)+"-"+A(2,g)+"T"+A(2,e)+":"+A(2,k)+":"+A(2,h)+"."+A(3,l)+"Z",d=c=g=e=k=h=l=null):a=null;return a};return K(a)},L=function(a,b,
d,c,g,f,e){var k,l,n,m,r,p;h(function(){k=b[a]});"object"==typeof k&&k&&(k.getUTCFullYear&&"[object Date]"==v.call(k)&&k.toJSON===q.prototype.toJSON?k=K(k):"function"==typeof k.toJSON&&(k=k.toJSON(a)));d&&(k=d.call(b,a,k));if(k==w)return k===w?k:"null";l=typeof k;"object"==l&&(n=v.call(k));switch(n||l){case "boolean":case "[object Boolean]":return""+k;case "number":case "[object Number]":return k>-1/0&&k<1/0?""+k:"null";case "string":case "[object String]":return N(""+k)}if("object"==typeof k){for(l=
e.length;l--;)if(e[l]===k)throw V();e.push(k);m=[];p=f;f+=g;if("[object Array]"==n){r=0;for(l=k.length;r<l;r++)n=L(r,k,d,c,g,f,e),m.push(n===w?"null":n);l=m.length?g?"[\n"+f+m.join(",\n"+f)+"\n"+p+"]":"["+m.join(",")+"]":"[]"}else D(c||k,function(a){var b=L(a,k,d,c,g,f,e);b!==w&&m.push(N(a)+":"+(g?" ":"")+b)}),l=m.length?g?"{\n"+f+m.join(",\n"+f)+"\n"+p+"}":"{"+m.join(",")+"}":"{}";e.pop();return l}};f.stringify=function(a,b,d){var c,f,h,e;if(u[typeof b]&&b)if(e=v.call(b),"[object Function]"==e)f=
b;else if("[object Array]"==e){h={};for(var k=0,l=b.length,m;k<l;m=b[k++],(e=v.call(m),"[object String]"==e||"[object Number]"==e)&&(h[m]=1));}if(d)if(e=v.call(d),"[object Number]"==e){if(0<(d-=d%1))for(c="",10<d&&(d=10);c.length<d;c+=" ");}else"[object String]"==e&&(c=10>=d.length?d:d.slice(0,10));return L("",(m={},m[""]=a,m),f,h,c,"",[])}}if(!m("json-parse")){var T=r.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},b,G,l=function(){b=G=null;throw t();},B=function(){for(var a=
G,c=a.length,d,f,g,h,e;b<c;)switch(e=a.charCodeAt(b),e){case 9:case 10:case 13:case 32:b++;break;case 123:case 125:case 91:case 93:case 58:case 44:return d=I?a.charAt(b):a[b],b++,d;case 34:d="@";for(b++;b<c;)if(e=a.charCodeAt(b),32>e)l();else if(92==e)switch(e=a.charCodeAt(++b),e){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:d+=U[e];b++;break;case 117:f=++b;for(g=b+4;b<g;b++)e=a.charCodeAt(b),48<=e&&57>=e||97<=e&&102>=e||65<=e&&70>=e||l();d+=T("0x"+a.slice(f,b));break;default:l()}else{if(34==
e)break;e=a.charCodeAt(b);for(f=b;32<=e&&92!=e&&34!=e;)e=a.charCodeAt(++b);d+=a.slice(f,b)}if(34==a.charCodeAt(b))return b++,d;l();default:f=b;45==e&&(h=!0,e=a.charCodeAt(++b));if(48<=e&&57>=e){for(48==e&&(e=a.charCodeAt(b+1),48<=e&&57>=e)&&l();b<c&&(e=a.charCodeAt(b),48<=e&&57>=e);b++);if(46==a.charCodeAt(b)){for(g=++b;g<c&&(e=a.charCodeAt(g),48<=e&&57>=e);g++);g==b&&l();b=g}e=a.charCodeAt(b);if(101==e||69==e){e=a.charCodeAt(++b);43!=e&&45!=e||b++;for(g=b;g<c&&(e=a.charCodeAt(g),48<=e&&57>=e);g++);
g==b&&l();b=g}return+a.slice(f,b)}h&&l();d=a.slice(b,b+4);if("true"==d)return b+=4,!0;if("fals"==d&&101==a.charCodeAt(b+4))return b+=5,!1;if("null"==d)return b+=4,null;l()}return"$"},M=function(a){var b,d;"$"==a&&l();if("string"==typeof a){if("@"==(I?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;){a=B();if("]"==a)break;d?","==a?(a=B(),"]"==a&&l()):l():d=!0;","==a&&l();b.push(M(a))}return b}if("{"==a){for(b={};;){a=B();if("}"==a)break;d?","==a?(a=B(),"}"==a&&l()):l():d=!0;","!=a&&"string"==
typeof a&&"@"==(I?a.charAt(0):a[0])&&":"==B()||l();b[a.slice(1)]=M(B())}return b}l()}return a},P=function(a,b,d){d=O(a,b,d);d===w?delete a[b]:a[b]=d},O=function(a,b,d){var c=a[b],f;if("object"==typeof c&&c)if("[object Array]"==v.call(c))for(f=c.length;f--;P(c,f,d));else D(c,function(a){P(c,a,d)});return d.call(a,b,c)};f.parse=function(a,c){var d,f;b=0;G=""+a;d=M(B());"$"!=B()&&l();b=G=null;return c&&"[object Function]"==v.call(c)?O((f={},f[""]=d,f),"",c):d}}}f.runInContext=H;return f}var p="function"===
typeof define&&define.amd,u={"function":!0,object:!0},a=u[typeof exports]&&exports&&!exports.nodeType&&exports,c=u[typeof t]&&t||this,f=a&&u[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;!f||f.global!==f&&f.window!==f&&f.self!==f||(c=f);if(a&&!p)H(c,a);else{var h=c.JSON,n=c.JSON3,q=!1,r=H(c,c.JSON3={noConflict:function(){q||(q=!0,c.JSON=h,c.JSON3=n,h=n=null);return r}});c.JSON={parse:r.parse,stringify:r.stringify}}p&&define(function(){return r})}).call(this);(function(p,
W){p.XMLHttpRequest||"node"===q||(p.XMLHttpRequest=function(){var a;try{a=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(c){try{a=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(f){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(h){throw Error("Your browser does not support XMLHttpRequest.");}}}return a});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});(function(a){a&&(a=[8,9],a=-1===a.indexOf(8,2)&&-1===a.indexOf(9,-1));return a})(!!Array.prototype.indexOf)||
(Array.prototype.indexOf=function(a,c){var f,h,n;if(!Array.isArray(this))throw new TypeError("An Array.prototype.indexOf call was made on a non-array.");"number"!==typeof c&&(c=0);h=this.length;f=-1;if(0!==h&&Math.abs(c)<h)for(0>c&&(h-=c),n=0>c?-1:--c;++n<h;)if(this[n]===a){f=n;break}return f});t.console=t.console||{};(function(a,c){a.log||(a.log=c);a.error||(a.error=a.log);a.assert||(a.assert=function(c){var h;if(!c)return h=1<arguments.length?Array.prototype.slice.call(arguments,1):["A console.assert call failed."],
a.error.apply(this,h)});a.clear||(a.clear=c);a.count||(a.count=c);a.debug||(a.debug=a.log);a.dir||(a.dir=a.log);a.dirxml||(a.dirxml=a.log);a.exception||(a.exception=a.error);a.group||(a.group=c);a.groupCollapsed||(a.groupCollapsed=a.group);a.groupEnd||(a.groupEnd=c);a.info||(a.info=a.log);a.markTimeline||(a.markTimeline=a.timeStamp?a.timeStamp:c);a.profile||(a.profile=c);a.profileEnd||(a.profileEnd=c);a.table||(a.table=c);a.time||(a.time=c);a.timeEnd||(a.timeEnd=c);a.timeline||(a.timeline=c);a.timelineEnd||
(a.timelineEnd=c);a.timeStamp||(a.timeStamp=a.markTimeline);a.trace||(a.trace=a.log);a.warn||(a.warn=a.error);(function(c,h,n,p){var r,q,t,u;if(c)if(t=["assert","error","info","log","warn"],u=["clear","dir","profile","profileEnd"],u=t.concat(u),h)for(r=u.length;r--;)q=a[u[r]],a[u[r]]=h.call(q,a);else for(r=t.length;r--;)q=a[t[r]],n.call(q,a,p.call(arguments))})("object"===typeof a.log,Function.prototype.bind,Function.prototype.call,Array.prototype.slice)})(t.console,function(){});Object.keys||(Object.keys=
function(){var a,c;a=!{toString:null}.propertyIsEnumerable("toString");c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" ");return function(f){var h,n;if(!f||"object"!==typeof f&&"function"!==typeof f)throw new TypeError("An Object.keys call received an invalid object parameter. Note: It only accepts non-null objects and functions.");n=[];for(h in f)f.hasOwnProperty(h)&&n.push(h);if(a)for(h=c.length;h--;)f.hasOwnProperty(c[h])&&n.push(c[h]);
return n}}());Object.freeze||(Object.freeze=function(a){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("An Object.freeze call received an invalid object parameter. Note: It only accepts non-null objects and functions.");return a});try{Object.freeze(function(){})}catch(u){Object.freeze=function(a){return function(c){return"function"===typeof c?c:a(c)}}(Object.freeze)}Object.isFrozen||(Object.isFrozen=function(a){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("An Object.isFrozen call received an invalid object parameter. Note: It only accepts non-null objects and functions.");
return!0})})(t)});
